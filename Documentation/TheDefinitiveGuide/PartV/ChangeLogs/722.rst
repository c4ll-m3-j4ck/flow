`7.2.2 (2021-11-22) <https://github.com/neos/flow-development-collection/releases/tag/7.2.2>`_
==============================================================================================

Overview of merged pull requests
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

`!!! BUGFIX: Prefix RedisBackend keys with application context <https://github.com/neos/flow-development-collection/pull/2622>`_
--------------------------------------------------------------------------------------------------------------------------------

Also refactors MemCached and ApcuBackend to use the ``getPrefixedIdentifier()`` method.

* Resolves: `#2618 <https://github.com/neos/flow-development-collection/issues/2618>`_

* Packages: ``Flow`` ``FluidAdaptor``

`BUGFIX: IgnoreValidation can be used without arguments on a property <https://github.com/neos/flow-development-collection/pull/2632>`_
---------------------------------------------------------------------------------------------------------------------------------------

It should be possible to annotate a property with just ``@Flow\\IgnoreValidation`` without any arguments.

This was a regression from #2468.

Related to https://github.com/neos/neos-development-collection/issues/3515 and https://github.com/neos/neos-development-collection/pull/3411

* Packages: ``Flow``

`BUGFIX: FunctionalTestCase doesn't reset PrivilegeManager on setup <https://github.com/neos/flow-development-collection/pull/2628>`_
-------------------------------------------------------------------------------------------------------------------------------------

When extending the ``FunctionalTestCase`` without either ``$testableSecurityEnabled`` or ``$testablePersistenceEnabled`` set to ``true``, the ``privilegeManager`` will get ``overrideDecision`` set to ``true``.

All test classes executed later will now also have ``overrideDecision`` set to ``true`` instead of the expected ``null``.

This fix ensures that ``privilegeManager->reset()`` is called no matter what.

* Packages: ``Flow``

`BUGFIX: Do not remove related entities during persistence <https://github.com/neos/flow-development-collection/pull/2517>`_
----------------------------------------------------------------------------------------------------------------------------

Expected behavior by serialize is not to change the object to serialize but to provide
a textual representation. If your object contained persisted entities in a multivalued
property it had been silently removed.

Rebased follow-up to `#2012 <https://github.com/neos/flow-development-collection/issues/2012>`_

* Packages: ``Flow``

`BUGFIX: Fixed $offset in XliffReader <https://github.com/neos/flow-development-collection/pull/2596>`_
-------------------------------------------------------------------------------------------------------

_Same as `#2570 <https://github.com/neos/flow-development-collection/issues/2570>`_with changed base branch and test_

**What I did**
Fixed problem with the $offset value described in `#2569 <https://github.com/neos/flow-development-collection/issues/2569>`_

**How I did it**
$offset must be incremented in the while loop before the itterator. The first element is already handled before the loop. 

**How to verify it**
Create a .xlf File with at least 3 file blocks.

* Packages: ``Flow``

`BUGFIX: Check if variable is an array before accessing it as such <https://github.com/neos/flow-development-collection/pull/2608>`_
------------------------------------------------------------------------------------------------------------------------------------

The current code lead to an error when an argument is of type ``Neos\\Http\\Factories\\FlowUploadedFile``, trying to access an array property on it. This fixes it by checking for ``is_array``.

Fixes `#3467 <https://github.com/neos/neos-development-collection/issues/3467>`_

* Packages: ``Flow``

`TASK: Update HTTP status codes known to ResponseInformationHelper <https://github.com/neos/flow-development-collection/pull/2631>`_
------------------------------------------------------------------------------------------------------------------------------------



* Packages: ``Flow``

`Revert "TASK: Run post-update scripts only once" <https://github.com/neos/flow-development-collection/pull/2623>`_
-------------------------------------------------------------------------------------------------------------------

This reverts commit `d79947442d7de8c59f0d6460e0affef30406148b <https://github.com/neos/flow-development-collection/commit/d79947442d7de8c59f0d6460e0affef30406148b>`_.

* Resolves: `#2621 <https://github.com/neos/flow-development-collection/issues/2621>`_

Original by @marcrobertscamao:

This fix resolves the issue of postPackageUpdateAndInstall not installing resources from all installed packages

What I did

Remove the single run code for the postPackageUpdateAndInstall function only

How to verify it

Clone git@github.com:marcrobertscamao/resource-test.git
Run composer install
See resource1.txt in the root and resource2.txt in the root

* Packages: ``Flow``

`TASK: Add configuration file for RTD <https://github.com/neos/flow-development-collection/pull/2616>`_
-------------------------------------------------------------------------------------------------------

This fixes an error caused by recent docutils and old sphinx being
incompatible.

The location of the configuration file in the root of the development
collection allows to (finally!) build the documentation directly from
the collection repository instead of the neos/flow split repository.

That finally fixes the "edit on GH" links, too.

* Packages: ``Flow``

`TASK: Ignore disabled authentication providers <https://github.com/neos/flow-development-collection/pull/2607>`_
-----------------------------------------------------------------------------------------------------------------

**What I did**
Ignore null providers in the provider factory

**How I did it**
Ignore null providers in TokenAndProviderFactory::buildProvidersAndTokensFromConfiguration foreach loop

**How to verify it**
Set ``Neos.Neos:Backend`` provider to ``null``, ``~`` or ``false`` in order to disable it and check for php errors on next login request

Fix #2606

* Packages: ``Flow``

`TASK: Update editorconfig files <https://github.com/neos/flow-development-collection/pull/2604>`_
--------------------------------------------------------------------------------------------------



* Packages: ``Flow``

`Detailed log <https://github.com/neos/flow-development-collection/compare/7.2.1...7.2.2>`_
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
